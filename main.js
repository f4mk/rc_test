(()=>{var t={99:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var o=n(645),r=n.n(o)()((function(t){return t[1]}));r.push([t.id,"#id{height:800px;background-color:#eee}#plot{display:block;margin:auto;background-color:#fff;box-shadow:0 0 2px 2px #555}",""]);const i=r},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(r[s]=!0)}for(var a=0;a<t.length;a++){var c=[].concat(t[a]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},705:(t,e,n)=>{var o=n(639).Symbol;t.exports=o},239:(t,e,n)=>{var o=n(705),r=n(607),i=n(333),s=o?o.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?r(t):i(t)}},561:(t,e,n)=>{var o=n(990),r=/^\s+/;t.exports=function(t){return t?t.slice(0,o(t)+1).replace(r,""):t}},957:(t,e,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=o},607:(t,e,n)=>{var o=n(705),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=o?o.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var o=!0}catch(t){}var r=s.call(t);return o&&(e?t[a]=n:delete t[a]),r}},333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},639:(t,e,n)=>{var o=n(957),r="object"==typeof self&&self&&self.Object===Object&&self,i=o||r||Function("return this")();t.exports=i},990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},279:(t,e,n)=>{var o=n(218),r=n(771),i=n(841),s=Math.max,a=Math.min;t.exports=function(t,e,n){var c,u,l,f,h,d,p=0,v=!1,y=!1,x=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=c,o=u;return c=u=void 0,p=e,f=t.apply(o,n)}function m(t){return p=t,h=setTimeout(b,e),v?g(t):f}function w(t){var n=t-d;return void 0===d||n>=e||n<0||y&&t-p>=l}function b(){var t=r();if(w(t))return j(t);h=setTimeout(b,function(t){var n=e-(t-d);return y?a(n,l-(t-p)):n}(t))}function j(t){return h=void 0,x&&c?g(t):(c=u=void 0,f)}function T(){var t=r(),n=w(t);if(c=arguments,u=this,d=t,n){if(void 0===h)return m(d);if(y)return clearTimeout(h),h=setTimeout(b,e),g(d)}return void 0===h&&(h=setTimeout(b,e)),f}return e=i(e)||0,o(n)&&(v=!!n.leading,l=(y="maxWait"in n)?s(i(n.maxWait)||0,e):l,x="trailing"in n?!!n.trailing:x),T.cancel=function(){void 0!==h&&clearTimeout(h),p=0,c=d=u=h=void 0},T.flush=function(){return void 0===h?f:j(r())},T}},218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},5:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},448:(t,e,n)=>{var o=n(239),r=n(5);t.exports=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==o(t)}},771:(t,e,n)=>{var o=n(639);t.exports=function(){return o.Date.now()}},493:(t,e,n)=>{var o=n(279),r=n(218);t.exports=function(t,e,n){var i=!0,s=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return r(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),o(t,e,{leading:i,maxWait:e,trailing:s})}},841:(t,e,n)=>{var o=n(561),r=n(218),i=n(448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=o(t);var n=a.test(t);return n||c.test(t)?u(t.slice(2),n?2:8):s.test(t)?NaN:+t}},379:(t,e,n)=>{"use strict";var o,r=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function s(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function a(t,e){for(var n={},o=[],r=0;r<t.length;r++){var a=t[r],c=e.base?a[0]+e.base:a[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var f=s(l),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(h)):i.push({identifier:l,updater:v(h,e),references:1}),o.push(l)}return o}function c(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=l(e,r);else{var i=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function h(t,e,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var d=null,p=0;function v(t,e){var n,o,r;if(e.singleton){var i=p++;n=d||(d=c(e)),o=f.bind(null,n,i,!1),r=f.bind(null,n,i,!0)}else n=c(e),o=h.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=a(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=s(n[o]);i[r].references--}for(var c=a(t,e),u=0;u<n.length;u++){var l=s(n[u]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}n=c}}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(379),e=n.n(t),o=n(99);e()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;class r{constructor({x:t,y:e}){this.x=t,this.y=e}draw(t){t.beginPath(),t.arc(this.x,this.y,4,0,2*Math.PI),t.stroke()}}class i{constructor(t,e){this.point1=t,this.point2=e}draw(t,e){t.beginPath(),t.moveTo(this.point1.x,this.point1.y),t.lineTo(this.point2.x,this.point2.y),t.strokeStyle=e,t.stroke(),t.closePath()}}var s=n(493),a=n.n(s);function c(t,e){var n=t.getBoundingClientRect(),o=t.width/n.width,r=t.height/n.height;return{x:(e.clientX-n.left)*o,y:n.height-(e.clientY-n.top)*r}}function u(t){return t*Math.PI/180}class l{constructor(t,e){this.position=t,this.direction=this._calcDirectionPoint(t,e),this._dirPoint=this._calcDirectionPoint(t,e)}_calcDirectionPoint(t,e){const n=t.x+1e4*e.x,o=t.y+1e4*e.y;return new r({x:n,y:o})}_setDirection(t,e){const n={x:t-this.position.x,y:e-this.position.y};this._dirPoint=this._calcDirectionPoint(this.position,function({x:t,y:e}){const n=Math.max(Math.abs(t),Math.abs(e));return{x:t/n,y:e/n}}(n))}_follow(){const t=document.querySelector("#plot");t.addEventListener("mousemove",a()((e=>{const{x:n,y:o}=c(t,e);this._setDirection(n,o),this._draw()}),50))}_draw(){const t=document.querySelector("#plot").getContext("2d");t.beginPath(),t.moveTo(this.position.x,this.position.y),t.lineTo(this._dirPoint.x,this._dirPoint.y),t.stroke(),t.closePath()}cast(t){const e=t.point1.x,n=t.point1.y,o=t.point2.x,i=t.point2.y,s=this.position.x,a=this.position.y,c=this._dirPoint.x,u=this._dirPoint.y,l=(e-o)*(a-u)-(n-i)*(s-c);if(!l)return null;const f=((e-s)*(a-u)-(n-a)*(s-c))/l;return f>0&&f<1&&((o-e)*(n-a)-(i-n)*(e-s))/l>0?new r({x:e+f*(o-e),y:n+f*(i-n)}):null}}class f{constructor(t){this.position=t,this.rays=[];for(let t=0;t<360;t+=.5)this.rays.push(new l(this.position,(e=t,new r({x:Math.cos(u(e)),y:Math.sin(u(e))}))));var e}_follow(){const t=document.querySelector("#plot");t.addEventListener("mousemove",a()((e=>{const{x:n,y:o}=c(t,e);this.position.x=n,this.position.y=o}),33))}_show(){const t=document.querySelector("#plot").getContext("2d");this.position.draw(t);for(let t of this.rays)t._draw()}cast(t){const e=[];for(let r of this.rays){let i=null,s=1/0;for(let e of t){const t=r.cast(e);if(t){const e=(n=this.position,o=t,Math.sqrt((o.x-n.x)**2+(o.y-n.y)**2));e<s&&(s=e,i=t)}}i&&e.push(i)}var n,o;return e}}const h=document.querySelector("#plot");if(h.getContext){const t=h.getContext("2d");t.transform(1,0,0,-1,0,h.height);const e=new r({x:250,y:300}),n=new f(e);n._follow();const o=new Array(5).fill(!0);o.forEach(((t,e)=>{const n=800*Math.random(),s=600*Math.random(),a=800*Math.random(),c=600*Math.random();o[e]=function({x1:t,y1:e,x2:n,y2:o}){const s=new r({x:t,y:e}),a=new r({x:n,y:o});return new i(s,a)}({x1:n,y1:s,x2:a,y2:c})})),o.push(...function(){let t=[];const e=document.querySelector("#plot"),n=new r({x:0,y:0}),o=new r({x:e.width,y:0}),s=new r({x:e.width,y:e.height}),a=new r({x:0,y:e.height});return t.push(new i(n,o)),t.push(new i(o,s)),t.push(new i(s,a)),t.push(new i(a,n)),console.log(t),t}()),setInterval((()=>{t.clearRect(0,0,h.width,h.height),t.fillStyle="black",t.fillRect(0,0,h.width,h.height),o.forEach((e=>e.draw(t,"#ffffff"))),n.cast(o).map((n=>{n&&new i({x:e.x,y:e.y},n).draw(t,"rgba(253, 255, 182, 0.3)")}))}),33)}})()})();